\chapter{Introduction}
In 2008, after years of granting loans to \enquote{sub-prime} clients who struggled to repay them, the investment bank, Lehman Brothers, filed for bankruptcy \cite{lehman}. The events that followed launched a global financial crisis with the stock market dropping and unemployment rate increasing world wide. The banks who initially caused the crises, however, were bailed out with tax payer money. People no longer felt they could trust bankers or investment managers. As a response to this, Satoshi Nakamoto outlined a peer-to-peer electronic cash system in the Bitcoin whitepaper. 

When the bitcoin system became a reality in the start of 2009, the very first block contained the message \enquote{The Times 03/Jan/2009 Chancellor on brink of second bailout for banks}. Furthermore, Nakamoto posted the following on an internet P2P forum \cite{nakamoto_trust} in 2009: 

\enquote{\textit{The root problem with conventional currency is all the trust that's required to make it work. The central bank must be trusted not to debase the currency, but the history of fiat currencies \footnote{Fiat currency is currency backed and issued by the government, such as U.S. dollars or Norwegian kroner} is full of breaches of that trust. Banks must be trusted to hold our money and transfer it electronically, but they lend it out in waves of credit bubbles with barely a fraction in reserve. We have to trust them with our privacy, trust them not to let identity thieves drain our accounts. Their massive overhead costs make micropayments impossible.}}

The distributed system was backed by mathematics and cryptography, instead of traditional trusted middlemen and third-parties. The Bitcoin technology removed the need for trust in transactions, due to the distributed, decentralized ledger where all transactions are stored. Since all transactions are stored across all nodes in the network, there is no single point of failure. Unlike traditional databases, blockchains cannot be hacked, and once data is stored in the ledger, it cannot be altered.

Cryptocurrencies were not invented by Nakamoto, they existed already in the 1980's, but never saw any real usages as they had some problems. What set Bitcoin aside, was the solution to the \textit{double spend problem} \footnote{If person A has an asset and sends this to person B and C simultaneously, which transaction should be valid.}. Nakamoto solved this by timestamping all transactions and storing them in a immutable, decentralized ledger, the blockchain.

\textit{Bitcoin} and \textit{cryptocurrency} have become household words, with nearly daily appearances in media. Although many people still use the terms \textit{Bitcoin} and \textit{blockchain} interchangeably, they are not the same. Bitcoin is, simply put, the first application created using blockchain technology. Parallels can be drawn to the early days of the Internet, where TCP/IP (Transmission Control Protocol/Internet Protocol) became the technology that allowed e-mail to become a reality \cite{hbr_truth}. 

Since the introduction of blockchains, there has been massive development with many new applications created, both financial and non-financial. With usage ranging from bank-to-bank transfer, to voting, recording landownership, and sale and licensing of intellectual properties, blockchains could impact many industries. 
 
Among the industries who have adopted the blockchain as a method to improve transactions, is the electricity market. In 2014, a method to trade renewable energy through virtual currency was proposed with the NRGcoin \cite{NRGcoin_Mihaylov}. The first successful energy transaction to be executed in a blockchain occurred with the Brooklyn Microgrid project in 2016 \cite{bm101}. In spite of being a relatively new technology, blockchains in the electricity market have shown great potential. 

The goal of this thesis is to outline existing implementations of blockchains used in peer-to-peer electricity trading, propose a new blockchain-like system for storing electricity transactions, and a method for settling these transactions. 



\section{Thesis Outline}
Chapter 2 presents a short description of microgrids and a theoretical background of blockchains, starting with an introduction to blockchains. Furthermore, taxonomy and mechanisms such as consensus are explained. Existing blockchain applications are also discussed. Projects using blockchains in energy transactions are presented at the end of the chapter. 

The functional specifications of the system to be implemented are presented in chapter 3. The system mainly consists of two parts: implementation of a blockchain for storing data in a distributed network; and an application for settlement of energy transactions in a microgird. The system implementation is focused around the blockchain. The blockchain is the back-end service enabling the functionality of the application.

A system design is illustrated in chapter 4, while the implementation of the system is described in chapter 5. Testing and results are presented in chapter 6 and 7 respectively. Discussion and conclusion of the thesis will be given in chapter 8.






